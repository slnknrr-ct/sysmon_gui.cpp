# Основы C++17 для проекта SysMon3

Этот документ описывает основные возможности и концепции C++17, используемые в проекте SysMon3.

## Основные возможности C++17

### 1. Компоненты стандартной библиотеки

#### Умные указатели
- `std::unique_ptr<T>` - Управление памятью с эксклюзивным владением
- `std::shared_ptr<T>` - Управление памятью с разделяемым владением
- `std::make_unique<T>()` - Безопасное создание уникальных указателей

#### Поддержка потоков
- `std::thread` - Создание и управление потоками
- `std::atomic<bool>` - Атомарные операции для потокобезопасных флагов
- `std::mutex` - Мьютексы для взаимного исключения
- `std::shared_mutex` - Блокировки чтения-записи для разделяемых данных

#### Контейнеры
- `std::vector<T>` - Динамические массивы
- `std::map<K,V>` - Пары ключ-значение
- `std::queue<T>` - Контейнер FIFO
- `std::variant<T...>` - Типобезопасное объединение

#### Утилиты времени
- `std::chrono::seconds` - Представление длительности
- `std::chrono::system_clock::time_point` - Точки времени
- `std::this_thread::sleep_for()` - Приостановка потока

#### Работа со строками
- `std::string` - Стандартный класс строк
- `std::string_view` (потенциальное использование) - Не владеющие ссылки на строки

### 2. Языковые возможности

#### Структурированные привязки
Используются для распаковки структур и пар:
```cpp
auto [key, value] = mapEntry;
```

#### if constexpr
Компиляционная условная компиляция:
```cpp
if constexpr (condition) {
    // Код компилируется только если условие истинно
}
```

#### std::optional
Обработка необязательных значений (потенциальное использование):
```cpp
std::optional<Data> getData();
```

#### Встроенные переменные
Определения статических переменных только в заголовках:
```cpp
inline constexpr int MAX_CLIENTS = 10;
```

### 3. Управление памятью

#### Принципы RAII
- Приобретение ресурса есть инициализация
- Автоматическая очистка ресурсов через деструкторы
- Гарантии безопасности исключений

#### Семантика перемещения
- `std::move()` для эффективной передачи ресурсов
- Rvalue-ссылки для идеальной передачи
- Конструкторы и операторы присваивания перемещением

### 4. Использование шаблонов

#### Шаблоны функций
Обобщенные функции для разных типов данных:
```cpp
template<typename T>
void processData(const T& data);
```

#### Шаблоны классов
Шаблонные классы для гибкости типов:
```cpp
template<typename T>
class Container {
    // Реализация
};
```

### 5. Обработка исключений

#### Стандартные исключения
- `std::exception` - Базовый класс исключений
- `std::runtime_error` - Исключения времени выполнения
- `std::logic_error` - Исключения логики

#### Безопасность исключений
- Сильные гарантии безопасности исключений
- RAII для автоматической очистки
- Операции без выброса исключений где возможно

### 6. Кроссплатформенная разработка

#### Условная компиляция
Код специфичный для платформы:
```cpp
#ifdef _WIN32
    // Код для Windows
#else
    // Код для Unix/Linux
#endif
```

#### Абстракция платформы
- Абстрактные интерфейсы для платформо-специфичной функциональности
- Единый API для разных операционных систем

### 7. Практики современного C++

#### const-корректность
- `const` функции-члены
- `const` ссылки для параметров только для чтения
- `constexpr` для констант времени компиляции

#### nullptr
- Типобезопасная замена нулевого указателя
- Улучшенное разрешение перегрузки

#### enum class
- Строго типизированные перечисления
- Область видимости значений перечисления

#### override и final
- Спецификация переопределения виртуальных функций
- Предотвращение дальнейшего наследования

### 8. Вопросы производительности

#### Абстракции с нулевой стоимостью
- Метапрограммирование шаблонов для оптимизации времени компиляции
- Встроенные функции для производительности

#### Дружественные к кэшу структуры данных
- Непрерывное выделение памяти
- Структура массивов против массива структур

#### Семантика перемещения
- Устранение ненужных копий
- Эффективная передача ресурсов

### 9. Интеграция с системой сборки

#### Интеграция CMake
- Современные практики CMake
- Конфигурация на основе целей
- Кроссплатформенная компиляция

#### Флаги компилятора
- Спецификация стандарта C++17
- Конфигурация уровня предупреждений
- Настройки оптимизации

### 10. Применяемые лучшие практики

#### Организация кода
- Реализации только в заголовках где уместно
- Четкое разделение интерфейса и реализации
- Использование пространств имен для избежания конфликтов

#### Обработка ошибок
- Проверка возвращаемых значений
- Распространение ошибок через исключения
- Graceful degradation

#### Управление ресурсами
- RAII для всех ресурсов
- Умные указатели для управления памятью
- Правильная очистка в деструкторах

## Требуемый уровень знаний

Для эффективной работы с этой кодовой базой разработчики должны иметь:

1. **Средний или продвинутый уровень C++** - Понимание возможностей современного C++
2. **Многопоточность** - Опыт работы с параллельным программированием
3. **Кроссплатформенная разработка** - Знание API Windows и Linux
4. **Сетевое программирование** - Понимание программирования сокетов
5. **Управление памятью** - Сильное понимание RAII и умных указателей
6. **Шаблонное программирование** - Базовый или средний уровень использования шаблонов
7. **Системы сборки** - Знакомство с CMake

## Рекомендуемые ресурсы для обучения

1. **Стандарт C++17** - Официальная спецификация
2. **Effective Modern C++** Скотта Мейерса
3. **C++ Concurrency in Action** Энтони Уильямса
4. **C++ High Performance** Бьорна Андриста и Виктора Сера
