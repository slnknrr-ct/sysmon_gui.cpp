# Agent Core
Основной компонент-оркестратор, который координирует все операции мониторинга и управления системой. Содержит базовую инициализацию, обработку команд и управление жизненным циклом компонентов. Используется как центральный узел для всей функциональности мониторинга системы.

## (/agent/agentcore.h) class AgentCore
Основной класс агента, который управляет всеми компонентами мониторинга системы. Встречается во всей подсистеме агента. Роль - центральная координация и управление жизненным циклом. Параметры: нет в конструкторе. Поведение: инициализирует, запускает, останавливает и координирует все компоненты мониторинга. Лавинный эффект: сбой AgentCore вызывает полный отказ системы, весь мониторинг становится недоступным.
Файлы:
- /agent/agentcore.h
- /agent/agentcore.cpp
- /agent/main.cpp

## (/agent/agentcore.cpp) function AgentCore::initialize()
Инициализирует ядро агента и все его компоненты. Встречается в последовательности запуска приложения. Роль - подготовка всех подсистем к работе. Параметры: нет. Поведение: создаёт логгер, менеджер конфигурации, IPC сервер и все компоненты мониторинга. Лавинный эффект: сбой инициализации предотвращает запуск всей системы, GUI не может подключиться.
Файлы:
- /agent/agentcore.cpp
- /agent/agentcore.h
- /agent/main.cpp

## (/agent/agentcore.cpp) function AgentCore::start()
Запускает все компоненты мониторинга и рабочие потоки. Встречается после успешной инициализации. Роль - активация функциональности мониторинга. Параметры: нет. Поведение: запускает IPC сервер, все менеджеры и рабочий поток. Лавинный эффект: сбой запуска оставляет систему инициализированной, но нефункциональной, GUI не может получать данные.
Файлы:
- /agent/agentcore.cpp
- /agent/agentcore.h

## (/agent/agentcore.cpp) function AgentCore::handleCommand()
Обрабатывает входящие команды от GUI через IPC. Встречается в основном цикле обработки команд. Роль - маршрутизация команд соответствующим обработчикам. Параметры: const Command& command. Поведение: переключается по модулю команды и вызывает конкретный обработчик. Лавинный эффект: ошибки обработки команд могут привести к падению агента или оставить команды необработанными.
Файлы:
- /agent/agentcore.cpp
- /agent/agentcore.h
- /shared/commands.h

## (/agent/agentcore.cpp) function AgentCore::workerThread()
Основной рабочий поток для фоновой обработки. Встречается работающим непрерывно после запуска. Роль - фоновая обработка задач. Параметры: нет. Поведение: спит и обрабатывает ожидающие задачи в цикле. Лавинный эффект: сбой рабочего потока останавливает фоновую обработку, система становится неотзывчивой.
Файлы:
- /agent/agentcore.cpp
- /agent/agentcore.h

# Android Manager
Управляет подключениями Android устройств и операциями через ADB. Содержит обнаружение устройств, операции управления и управление приложениями. Используется для мониторинга и автоматизации Android устройств.

## (/agent/androidmanager.h) class AndroidManager
Управляет подключенными Android устройствами и операциями ADB. Встречается в функциональности, связанной с Android. Роль - управление жизненным циклом Android устройств. Параметры: нет в конструкторе. Поведение: инициализирует ADB, сканирует устройства, выполняет команды. Лавинный эффект: сбой Android менеджера отключает всю функциональность Android, автоматизация устройств становится недоступной.
Файлы:
- /agent/androidmanager.h
- /agent/androidmanager.cpp
- /agent/agentcore.cpp

## (/agent/androidmanager.cpp) function AndroidManager::getConnectedDevices()
Получает список подключенных Android устройств. Встречается в операциях перечисления устройств. Роль - предоставление текущего инвентаря устройств. Параметры: нет. Поведение: сканирует устройства ADB, возвращает вектор информации об устройствах. Лавинный эффект: сбои перечисления устройств предотвращают отображение доступных устройств в GUI.
Файлы:
- /agent/androidmanager.cpp
- /agent/androidmanager.h
- /gui/androidtab.cpp

## (/agent/androidmanager.cpp) function AndroidManager::executeAdbCommand()
Выполняет команды ADB с опциональным нацеливанием на устройство. Встречается во всех операциях Android. Роль - низкоуровневая коммуникация ADB. Параметры: const string& command, const string& serialNumber. Поведение: запускает процесс ADB, возвращает вывод. Лавинный эффект: сбои команд ADB ломают всю функциональность Android.
Файлы:
- /agent/androidmanager.cpp
- /agent/androidmanager.h

## (/agent/androidmanager.cpp) function AndroidManager::deviceMonitoringThread()
Фоновый поток для мониторинга устройств. Встречается работающим непрерывно после запуска. Роль - непрерывный мониторинг присутствия устройств. Параметры: нет. Поведение: периодически сканирует изменения устройств. Лавинный эффект: сбой потока мониторинга останавливает обнаружение устройств, новые устройства не появятся.
Файлы:
- /agent/androidmanager.cpp
- /agent/androidmanager.h

# GUI Main Window
Главное окно приложения с вкладками для всех функций мониторинга. Содержит систему меню, строку состояния и управление вкладками. Используется как основной пользовательский интерфейс для мониторинга системы.

## (/gui/mainwindow.h) class MainWindow
Главное окно приложения с вкладками. Встречается как основная точка входа GUI. Роль - координация пользовательского интерфейса и отображение. Параметры: QWidget* parent. Поведение: создаёт вкладки, управляет менюми, обрабатывает события. Лавинный эффект: сбой главного окна предотвращает работу всего GUI.
Файлы:
- /gui/mainwindow.h
- /gui/mainwindow.cpp
- /gui/main.cpp

## (/gui/mainwindow.cpp) function MainWindow::setupUI()
Инициализирует компоненты интерфейса главного окна. Встречается во время конструирования окна. Роль - создание и расположение элементов UI. Параметры: нет. Поведение: создаёт меню, строку состояния, центральный виджет, вкладки. Лавинный эффект: сбой настройки UI предотвращает корректное отображение окна.
Файлы:
- /gui/mainwindow.cpp
- /gui/mainwindow.h

## (/gui/mainwindow.cpp) function MainWindow::createSystemMonitorTab()
Создаёт экземпляр вкладки мониторинга системы. Встречается во время инициализации вкладок. Роль - создание интерфейса монитора системы. Параметры: нет. Поведение: создаёт объект SystemMonitorTab и добавляет к виджету вкладок. Лавинный эффект: сбой создания вкладки удаляет мониторинг системы из GUI.
Файлы:
- /gui/mainwindow.cpp
- /gui/mainwindow.h
- /gui/systemmonitortab.cpp

## (/gui/mainwindow.cpp) function MainWindow::connectToAgent()
Устанавливает IPC соединение с агентом. Встречается когда пользователь инициирует подключение. Роль - установление коммуникации с бэкендом. Параметры: нет. Поведение: создаёт IPC клиент, пытается подключиться. Лавинный эффект: сбой подключения предотвращает получение GUI любых данных.
Файлы:
- /gui/mainwindow.cpp
- /gui/mainwindow.h
- /gui/ipcclient.cpp

# Shared Commands
Содержит структуры команд и ответов для IPC коммуникации. Предоставляет унифицированный интерфейс для всей коммуникации GUI-агент. Используется по всей системе для передачи сообщений.

## (/shared/commands.h) enum class CommandType
Перечисление всех поддерживаемых типов команд. Встречается во всей IPC коммуникации. Роль - идентификация и маршрутизация типов команд. Параметры: значения перечисления. Поведение: используется в операторах switch для обработки команд. Лавинный эффект: отсутствующие типы команд предотвращают добавление новой функциональности.
Файлы:
- /shared/commands.h
- /shared/commands.cpp
- /agent/agentcore.cpp
- /gui/ipcclient.cpp

## (/shared/commands.h) struct Command
Структура команды для IPC коммуникации. Встречается во всех операциях с командами. Роль - стандартизированный контейнер данных команды. Параметры: type, module, id, parameters, timestamp. Поведение: передаётся между GUI и агентом. Лавинный эффект: повреждение структуры команд ломает всю коммуникацию.
Файлы:
- /shared/commands.h
- /shared/commands.cpp
- /agent/agentcore.cpp
- /gui/ipcclient.cpp

## (/shared/commands.h) struct Response
Структура ответа для IPC коммуникации. Встречается во всех ответах на команды. Роль - стандартизированный контейнер данных ответа. Параметры: commandId, status, message, data, timestamp. Поведение: возвращается от агента к GUI. Лавинный эффект: ошибки структуры ответа предотвращают достижение GUI результатами команд.
Файлы:
- /shared/commands.h
- /shared/commands.cpp
- /agent/agentcore.cpp
- /gui/ipcclient.cpp

## (/shared/commands.h) function createCommand()
Фабричная функция для создания объектов команд. Встречается по всему коду GUI. Роль - стандартизированное создание команд с временными метками. Параметры: CommandType type, Module module, params. Поведение: создаёт Command с уникальным ID и временной меткой. Лавинный эффект: сбои создания команд предотвращают отправку запросов от GUI.
Файлы:
- /shared/commands.h
- /shared/commands.cpp
- /gui/ipcclient.cpp

# Shared System Types
Содержит структуры данных для представления информации о системе. Предоставляет унифицированные модели данных для всех данных мониторинга. Используется по всей системе для согласованности данных.

## (/shared/systemtypes.h) struct SystemInfo
Структура данных информации о системе. Встречается в операциях мониторинга системы. Роль - контейнер для метрик системы. Параметры: использование CPU, память, количество процессов, время работы. Поведение: заполняется монитором системы, отправляется в GUI. Лавинный эффект: ошибки структуры информации о системе предотвращают отображение данных мониторинга.
Файлы:
- /shared/systemtypes.h
- /shared/systemtypes.cpp
- /agent/systemmonitor.cpp
- /gui/systemmonitortab.cpp

## (/shared/systemtypes.h) struct ProcessInfo
Структура данных информации о процессе. Встречается в операциях мониторинга процессов. Роль - контейнер для метрик процесса. Параметры: pid, имя, CPU, память, статус. Поведение: заполняется менеджером процессов, отображается в GUI. Лавинный эффект: ошибки информации о процессе ломают отображение списка процессов.
Файлы:
- /shared/systemtypes.h
- /shared/systemtypes.cpp
- /agent/processmanager.cpp
- /gui/processmanagertab.cpp

## (/shared/systemtypes.h) struct AndroidDeviceInfo
Структура информации об Android устройстве. Встречается в операциях с Android устройствами. Роль - контейнер для метаданных устройства. Параметры: модель, версия, серийный номер, батарея, состояние экрана. Поведение: заполняется менеджером Android, показывается в GUI. Лавинный эффект: ошибки информации об устройстве предотвращают отображение деталей Android устройств.
Файлы:
- /shared/systemtypes.h
- /shared/systemtypes.cpp
- /agent/androidmanager.cpp
- /gui/androidtab.cpp

## (/shared/systemtypes.h) enum class CommandStatus
Перечисление статуса команд для ответов. Встречается во всех ответах на команды. Роль - указание результата выполнения команды. Параметры: SUCCESS, FAILED, PENDING. Поведение: используется в структурах Response. Лавинный эффект: изменения перечисления статуса влияют на всю логику обработки команд.
Файлы:
- /shared/systemtypes.h
- /shared/commands.h
- /agent/agentcore.cpp
- /gui/ipcclient.cpp
